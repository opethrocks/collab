[{"/Users/matt/projects/collab/client/src/index.js":"1","/Users/matt/projects/collab/client/src/App.js":"2","/Users/matt/projects/collab/client/src/reportWebVitals.js":"3","/Users/matt/projects/collab/client/src/context/userContext.js":"4","/Users/matt/projects/collab/client/src/context/messageContext.js":"5","/Users/matt/projects/collab/client/src/hooks/useLogin.js":"6","/Users/matt/projects/collab/client/src/hooks/useRegister.js":"7","/Users/matt/projects/collab/client/src/hooks/useMessage.js":"8","/Users/matt/projects/collab/client/src/socket.js":"9","/Users/matt/projects/collab/client/src/components/Dashboard/Dashboard.js":"10","/Users/matt/projects/collab/client/src/components/Input/Input.js":"11","/Users/matt/projects/collab/client/src/hoc/Aux.js":"12","/Users/matt/projects/collab/client/src/components/Navigation/NavMenu/NavMenu.js":"13","/Users/matt/projects/collab/client/src/components/Forms/RegisterForm.js":"14","/Users/matt/projects/collab/client/src/components/Forms/LoginForm.js":"15","/Users/matt/projects/collab/client/src/components/Messages/Messages.js":"16","/Users/matt/projects/collab/client/src/components/Navigation/SideBar/SideBar.js":"17","/Users/matt/projects/collab/client/src/components/UI/Backdrop.js":"18","/Users/matt/projects/collab/client/src/components/Logo/Logo.js":"19","/Users/matt/projects/collab/client/src/hoc/Layout.js":"20"},{"size":778,"mtime":1620129568379,"results":"21","hashOfConfig":"22"},{"size":2248,"mtime":1620129776430,"results":"23","hashOfConfig":"22"},{"size":362,"mtime":1608671060942,"results":"24","hashOfConfig":"22"},{"size":595,"mtime":1615821969965,"results":"25","hashOfConfig":"22"},{"size":417,"mtime":1615663741641,"results":"26","hashOfConfig":"22"},{"size":1893,"mtime":1619534766263,"results":"27","hashOfConfig":"22"},{"size":2299,"mtime":1619442074703,"results":"28","hashOfConfig":"22"},{"size":3284,"mtime":1619957096753,"results":"29","hashOfConfig":"22"},{"size":203,"mtime":1619832350784,"results":"30","hashOfConfig":"22"},{"size":662,"mtime":1617988876285,"results":"31","hashOfConfig":"22"},{"size":1483,"mtime":1619524741999,"results":"32","hashOfConfig":"22"},{"size":60,"mtime":1618420677295,"results":"33","hashOfConfig":"22"},{"size":1303,"mtime":1620062239622,"results":"34","hashOfConfig":"22"},{"size":2594,"mtime":1619959739550,"results":"35","hashOfConfig":"22"},{"size":2003,"mtime":1619959746823,"results":"36","hashOfConfig":"22"},{"size":3019,"mtime":1619958008455,"results":"37","hashOfConfig":"22"},{"size":1038,"mtime":1620214095686,"results":"38","hashOfConfig":"22"},{"size":238,"mtime":1619958484946,"results":"39","hashOfConfig":"22"},{"size":290,"mtime":1620062136425,"results":"40","hashOfConfig":"22"},{"size":580,"mtime":1620129818156,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"92kho2",{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"44"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"44"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"44"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"44"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"44"},"/Users/matt/projects/collab/client/src/index.js",[],["90","91"],"/Users/matt/projects/collab/client/src/App.js",["92"],"import React, { useContext } from 'react';\nimport axios from 'axios';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\nimport Login from './components/Forms/LoginForm';\nimport Register from './components/Forms/RegisterForm';\nimport Dashboard from './components/Dashboard/Dashboard';\nimport Messages from './components/Messages/Messages';\nimport { UserContext } from './context/userContext';\nimport { MessageProvider } from './context/messageContext';\nimport styles from './styles/App.module.css';\nimport Aux from './hoc/Aux';\nimport Layout from './hoc/Layout';\n\naxios.defaults.withCredentials = true;\n\nconst App = () => {\n  const [state, setState] = useContext(UserContext);\n\n  //Display notification box when status changes\n  const displayNotification = () => {\n    setTimeout(() => {\n      setState((prevState) => {\n        return { ...prevState, status: null };\n      });\n    }, 5000);\n    return <p className={styles.successAlert}>{state.status}</p>;\n  };\n\n  return (\n    <div className={styles.App}>\n      <Router>\n        <Layout />\n\n        {/* If new status message flash notification box with message */}\n        <div className={styles.alertContainer}>\n          {state.status && displayNotification()}\n        </div>\n\n        <Switch>\n          <Route path=\"/\" exact />\n          {/* Login route */}\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          {/* Register route */}\n          <Route path=\"/register\">\n            <Register />\n          </Route>\n          {/* Dashboard route */}\n          <Route path=\"/dashboard\">\n            <Dashboard />\n          </Route>\n          {/* Messages route */}\n          <Route path=\"/messages\">\n            <MessageProvider>\n              <Messages />\n            </MessageProvider>\n          </Route>\n        </Switch>\n        {/* Redirect to login if user is registered */}\n        {state.registered && <Redirect to=\"/login\" />}\n\n        {/* Redirect to login if user logs out */}\n        {!state.authenticated && <Redirect to=\"/login\" />}\n\n        {/* Redirect to Dashboard if user is logged in */}\n        {state.authenticated && <Redirect to=\"/dashboard\" />}\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","/Users/matt/projects/collab/client/src/reportWebVitals.js",[],"/Users/matt/projects/collab/client/src/context/userContext.js",[],"/Users/matt/projects/collab/client/src/context/messageContext.js",[],"/Users/matt/projects/collab/client/src/hooks/useLogin.js",[],"/Users/matt/projects/collab/client/src/hooks/useRegister.js",[],"/Users/matt/projects/collab/client/src/hooks/useMessage.js",["93","94","95"],"import { useContext } from 'react';\nimport { MessageContext } from '../context/messageContext';\nimport { UserContext } from '../context/userContext';\nimport socket from '../socket';\nimport axios from 'axios';\n\nconst UseMessage = () => {\n  const [msgState, setMsgState] = useContext(MessageContext);\n  const [state, setState] = useContext(UserContext);\n\n  function recieveMessage(event) {\n    let msg = JSON.parse(event);\n    setMsgState({\n      ...msgState,\n      user: msg.username,\n      messages: msgState.messages.concat({\n        text: msg.text,\n        incoming: true,\n        timestamp: new Date().toLocaleString(),\n      }),\n    });\n  }\n\n  function sendMessage() {\n    const message = {\n      username: state.username,\n      text: msgState.text,\n    };\n\n    handleSend();\n  }\n\n  function formatDate(date) {\n    const calcDaysPassed = (date1, date2) =>\n      Math.round(Math.abs((date2 - date1) / (1000 * 60 * 60 * 24)));\n\n    const daysPassed = calcDaysPassed(new Date(), date);\n\n    const hour = date.getHours();\n    const minutes = `${date.getMinutes()}`.padEnd(2, 0);\n    const amOrPm = `${hour < 12 ? 'AM' : 'PM'}`;\n\n    if (daysPassed === 0) return `Today at ${hour}:${minutes} ${amOrPm}`;\n    if (daysPassed === 1) return `Yesterday at ${hour}:${minutes} ${amOrPm}`;\n    if (daysPassed >= 7) return `${daysPassed} days ago`;\n    else {\n      return new Intl.DateTimeFormat(navigator.locale).format();\n    }\n  }\n\n  function handleSend() {\n    const date = new Date();\n\n    setMsgState({\n      ...msgState,\n      text: '',\n      messages: msgState.messages.concat({\n        text: msgState.text,\n        incoming: false,\n        timestamp: formatDate(date),\n      }),\n    });\n  }\n\n  async function checkAuth() {\n    try {\n      await axios.post('/api/messages');\n    } catch (err) {\n      setState({\n        ...state,\n        authenticated: false,\n        status: err.response?.data.msg,\n      });\n    }\n  }\n\n  //Build user object\n  socket.on('users', (users) => {\n    users.forEach((user) => {\n      user.self = user.userID === socket.id;\n    });\n\n    //put the current user first and then sort by username\n    const userList = users.sort((a, b) => {\n      if (a.self) return -1;\n      if (b.self) return 1;\n      if (a.username < b.username) return -1;\n      return a.username > b.username ? 1 : 0;\n    });\n\n    setMsgState((prevState) => {\n      return {\n        ...prevState,\n        users: userList,\n      };\n    });\n  });\n\n  //When user connects add username to state.users\n  socket.on('user connected', (user) => {\n    setMsgState((prevState) => {\n      return {\n        ...prevState,\n        users: [...prevState.users, user],\n      };\n    });\n  });\n\n  const websocketConnect = () => {\n    //Get username from userContext and assign it to\n    //socket.auth and connect socket to server\n    const { username } = state;\n    socket.auth = { username };\n    socket.connect();\n\n    //Display error messages to console\n    //Will implement error messages in UI soon\n    socket.on('connect_error', (err) => {\n      if (err.message === 'invalid username') {\n        console.log(err.message);\n      }\n    });\n\n    const destroyed = () => {\n      socket.off('connect-error');\n    };\n  };\n\n  return { sendMessage, checkAuth, websocketConnect };\n};\n\nexport default UseMessage;\n","/Users/matt/projects/collab/client/src/socket.js",[],"/Users/matt/projects/collab/client/src/components/Dashboard/Dashboard.js",[],"/Users/matt/projects/collab/client/src/components/Input/Input.js",["96"],"import React from 'react';\nimport useLogin from '../../hooks/useLogin';\nimport styles from './Input.module.css';\n\nconst Input = (props) => {\n  //Apply error class to inputs if errors are present\n  const applyErrorClass = (paramName) => {\n    const param = props.serverErrors?.find((err) => err.param === paramName);\n    if (param) return styles.error;\n\n    return '';\n  };\n\n  //Format label for inputs based on value passed in\n  const createLabel = (param) => {\n    if (param !== 'confirmPassword')\n      return param\n        .split()\n        .map((letter) => letter.charAt(0).toUpperCase() + letter.slice(1))\n        .join('');\n\n    return 'Confirm password';\n  };\n\n  //Create placeholder for inputs based on value passed in\n  const createPlaceholder = (param) => {\n    if (param === 'confirmPassword') return 'Re-enter password';\n    if (param === 'username') return 'Enter username';\n    return `Enter ${param}`;\n  };\n\n  const createInputComponent = (param, type) => {\n    return (\n      <div className={styles.Input}>\n        <label>{createLabel(param)}</label>\n        <form onSubmit={props.submit}>\n          <input\n            className={applyErrorClass(param)}\n            type={type}\n            name={param}\n            id={param}\n            placeholder={createPlaceholder(param)}\n            onChange={props.handleChange}\n          />\n        </form>\n      </div>\n    );\n  };\n  return <div>{createInputComponent(props.param, props.type)}</div>;\n};\n\nexport default Input;\n","/Users/matt/projects/collab/client/src/hoc/Aux.js",[],"/Users/matt/projects/collab/client/src/components/Navigation/NavMenu/NavMenu.js",[],"/Users/matt/projects/collab/client/src/components/Forms/RegisterForm.js",[],"/Users/matt/projects/collab/client/src/components/Forms/LoginForm.js",[],"/Users/matt/projects/collab/client/src/components/Messages/Messages.js",["97","98","99","100","101","102","103"],"import React, { useContext, useEffect, useRef, Component } from 'react';\nimport useMessage from '../../hooks/useMessage';\nimport { library, dom } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { far } from '@fortawesome/free-regular-svg-icons';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\nimport { MessageContext } from '../../context/messageContext';\nimport { v4 as uuidv4 } from 'uuid';\nimport { UserContext } from '../../context/userContext';\nimport socket from '../../socket';\nimport SideBar from '../Navigation/SideBar/SideBar';\nimport styles from './Messages.module.css';\n\nlibrary.add(fas, far, fab);\n\ndom.i2svg();\n\nconst Messages = () => {\n  const [msgState, setMsgState] = useContext(MessageContext);\n\n  const { sendMessage, checkAuth, websocketConnect } = useMessage();\n\n  useEffect(() => {\n    checkAuth();\n    //Open websocket connection\n    websocketConnect();\n  }, []);\n\n  const handleMessages = () => {\n    return msgState.messages.map((msg) => {\n      msgState.incoming ? (\n        <div>\n          <div className={styles.incoming}>\n            <p>From {msgState.user}</p>\n            <p>{msg.timestamp}</p>\n            <div className={styles.incoming}>\n              <p className={styles.message}>{msg.text}</p>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className={styles.outgoing}>\n          <p>{msg.timestamp}</p>\n          <div className={styles.outgoing}>\n            <p className={styles.message}>{msg.text}</p>\n          </div>\n        </div>\n      );\n    });\n    // return msgState.messages.map((msg) =>\n    //   msg.incoming ? (\n    //     <div>\n    //       <div className=\"incoming-flex\" key={uuidv4()}>\n    //         {msgState.user && (\n    //           <div>\n    //             <p>From {msgState.user}</p>\n    //             <p>{msg.timestamp}</p>\n    //           </div>\n    //         )}\n    //       </div>\n    //       <div className=\"incoming-flex\">\n    //         <div className=\"incoming-message\">\n    //           <p className=\"message\">{msg.text}</p>\n    //         </div>\n    //       </div>\n    //     </div>\n    //   ) : (\n    //     <div className=\"outgoing-flex\" key={uuidv4()}>\n    //       <p>{msg.timestamp}</p>\n    //       <div className=\"outgoing-message\">\n    //         <p className=\"message\">{msg.text}</p>\n    //       </div>\n    //     </div>\n    //   )\n    // );\n  };\n\n  const handleChange = (e) => {\n    setMsgState({ text: e.target.value });\n  };\n\n  return (\n    <div>\n      <SideBar />\n      <div className={styles.Messages}>\n        <div className={styles.chat}>\n          {/* {handleMessages()} */}\n          <div key={uuidv4()}>{handleMessages}</div>\n        </div>\n\n        <form>\n          <textarea value={msgState.text} onChange={handleChange}></textarea>\n          <button onClick={sendMessage}>\n            <img className=\"fas fa-paper-plane fa-2x\" />\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Messages;\n","/Users/matt/projects/collab/client/src/components/Navigation/SideBar/SideBar.js",["104","105","106"],"import React, { useContext } from 'react';\nimport { UserContext } from '../../../context/userContext';\nimport { v4 as uuidv4 } from 'uuid';\nimport classes from './Sidebar.module.css';\nimport Aux from '../../../hoc/Aux';\nimport Backdrop from '../../UI/Backdrop';\nimport Logo from '../../Logo/Logo';\n\nfunction SideBar(props) {\n  const [state] = useContext(UserContext);\n\n  // const activeUsers = () => {\n  //   const users = [...state.users];\n  //   return users.map((user) => <p key={uuidv4()}>{user.username}</p>);\n  // };\n\n  // let attachedClasses = [classes.SideDrawer, classes.Close];\n  // if (props.open) {\n  //   attachedClasses = [classes.SideDrawer, classes.Open];\n  // }\n  return (\n    <Aux>\n      <Backdrop show={props.open} clicked={props.closed} />\n      <div className={classes.SideDrawer}>\n        {/* <div className={classes.Logo}>\n          <Logo size=\"30px\" />\n        </div>\n        <nav>\n          <ul>\n            <li>test</li>\n          </ul>\n        </nav> */}\n      </div>\n    </Aux>\n  );\n}\n\nexport default SideBar;\n","/Users/matt/projects/collab/client/src/components/UI/Backdrop.js",[],["107","108"],"/Users/matt/projects/collab/client/src/components/Logo/Logo.js",[],"/Users/matt/projects/collab/client/src/hoc/Layout.js",["109"],"import React, { useState } from 'react';\nimport Aux from './Aux';\nimport NavMenu from '../components/Navigation/NavMenu/NavMenu';\nimport SideBar from '../components/Navigation/SideBar/SideBar';\n\nconst Layout = (props) => {\n  const [showSideDrawer, setShowSideDrawer] = useState(false);\n\n  const toggleSideDrawer = () => {\n    setShowSideDrawer((prevState) => {\n      return !prevState;\n    });\n  };\n\n  return (\n    <div>\n      <NavMenu toggleDrawer={toggleSideDrawer} />\n      <SideBar open={showSideDrawer} closed={toggleSideDrawer} />\n    </div>\n  );\n};\n\nexport default Layout;\n",{"ruleId":"110","replacedBy":"111"},{"ruleId":"112","replacedBy":"113"},{"ruleId":"114","severity":1,"message":"115","line":16,"column":8,"nodeType":"116","messageId":"117","endLine":16,"endColumn":11},{"ruleId":"114","severity":1,"message":"118","line":11,"column":12,"nodeType":"116","messageId":"117","endLine":11,"endColumn":26},{"ruleId":"114","severity":1,"message":"119","line":25,"column":11,"nodeType":"116","messageId":"117","endLine":25,"endColumn":18},{"ruleId":"114","severity":1,"message":"120","line":124,"column":11,"nodeType":"116","messageId":"117","endLine":124,"endColumn":20},{"ruleId":"114","severity":1,"message":"121","line":2,"column":8,"nodeType":"116","messageId":"117","endLine":2,"endColumn":16},{"ruleId":"114","severity":1,"message":"122","line":1,"column":40,"nodeType":"116","messageId":"117","endLine":1,"endColumn":46},{"ruleId":"114","severity":1,"message":"123","line":1,"column":48,"nodeType":"116","messageId":"117","endLine":1,"endColumn":57},{"ruleId":"114","severity":1,"message":"124","line":9,"column":10,"nodeType":"116","messageId":"117","endLine":9,"endColumn":21},{"ruleId":"114","severity":1,"message":"125","line":10,"column":8,"nodeType":"116","messageId":"117","endLine":10,"endColumn":14},{"ruleId":"126","severity":1,"message":"127","line":27,"column":6,"nodeType":"128","endLine":27,"endColumn":8,"suggestions":"129"},{"ruleId":"130","severity":1,"message":"131","line":30,"column":40,"nodeType":"132","messageId":"133","endLine":30,"endColumn":42},{"ruleId":"134","severity":1,"message":"135","line":94,"column":13,"nodeType":"136","endLine":94,"endColumn":57},{"ruleId":"114","severity":1,"message":"137","line":3,"column":16,"nodeType":"116","messageId":"117","endLine":3,"endColumn":22},{"ruleId":"114","severity":1,"message":"138","line":7,"column":8,"nodeType":"116","messageId":"117","endLine":7,"endColumn":12},{"ruleId":"114","severity":1,"message":"139","line":10,"column":10,"nodeType":"116","messageId":"117","endLine":10,"endColumn":15},{"ruleId":"110","replacedBy":"140"},{"ruleId":"112","replacedBy":"141"},{"ruleId":"114","severity":1,"message":"115","line":2,"column":8,"nodeType":"116","messageId":"117","endLine":2,"endColumn":11},"no-native-reassign",["142"],"no-negated-in-lhs",["143"],"no-unused-vars","'Aux' is defined but never used.","Identifier","unusedVar","'recieveMessage' is defined but never used.","'message' is assigned a value but never used.","'destroyed' is assigned a value but never used.","'useLogin' is defined but never used.","'useRef' is defined but never used.","'Component' is defined but never used.","'UserContext' is defined but never used.","'socket' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'checkAuth' and 'websocketConnect'. Either include them or remove the dependency array.","ArrayExpression",["144"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'uuidv4' is defined but never used.","'Logo' is defined but never used.","'state' is assigned a value but never used.",["142"],["143"],"no-global-assign","no-unsafe-negation",{"desc":"145","fix":"146"},"Update the dependencies array to be: [checkAuth, websocketConnect]",{"range":"147","text":"148"},[951,953],"[checkAuth, websocketConnect]"]