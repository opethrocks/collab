[{"/Users/matt/projects/collab/client/src/index.js":"1","/Users/matt/projects/collab/client/src/App.js":"2","/Users/matt/projects/collab/client/src/reportWebVitals.js":"3","/Users/matt/projects/collab/client/src/context/userContext.js":"4","/Users/matt/projects/collab/client/src/context/messageContext.js":"5","/Users/matt/projects/collab/client/src/components/Login.js":"6","/Users/matt/projects/collab/client/src/components/Register.js":"7","/Users/matt/projects/collab/client/src/components/NavMenu.js":"8","/Users/matt/projects/collab/client/src/components/Messages.js":"9","/Users/matt/projects/collab/client/src/hooks/useLogin.js":"10","/Users/matt/projects/collab/client/src/components/Dashboard.js":"11","/Users/matt/projects/collab/client/src/components/Input.js":"12","/Users/matt/projects/collab/client/src/hooks/useRegister.js":"13","/Users/matt/projects/collab/client/src/components/SideMenu.js":"14","/Users/matt/projects/collab/client/src/hooks/useMessage.js":"15","/Users/matt/projects/collab/client/src/socket.js":"16"},{"size":778,"mtime":1613167639267,"results":"17","hashOfConfig":"18"},{"size":2277,"mtime":1615734259027,"results":"19","hashOfConfig":"18"},{"size":362,"mtime":1608671060942,"results":"20","hashOfConfig":"18"},{"size":595,"mtime":1615821969965,"results":"21","hashOfConfig":"18"},{"size":417,"mtime":1615663741641,"results":"22","hashOfConfig":"18"},{"size":3221,"mtime":1617471502691,"results":"23","hashOfConfig":"18"},{"size":3862,"mtime":1614946958983,"results":"24","hashOfConfig":"18"},{"size":2136,"mtime":1614718301596,"results":"25","hashOfConfig":"18"},{"size":4727,"mtime":1615748128296,"results":"26","hashOfConfig":"18"},{"size":1325,"mtime":1617471465157,"results":"27","hashOfConfig":"18"},{"size":659,"mtime":1614945437072,"results":"28","hashOfConfig":"18"},{"size":2269,"mtime":1617487160091,"results":"29","hashOfConfig":"18"},{"size":1501,"mtime":1617554442703,"results":"30","hashOfConfig":"18"},{"size":1731,"mtime":1616864020079,"results":"31","hashOfConfig":"18"},{"size":3065,"mtime":1615749216917,"results":"32","hashOfConfig":"18"},{"size":202,"mtime":1615659691175,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"92kho2",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"36"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"36"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"/Users/matt/projects/collab/client/src/index.js",[],["70","71"],"/Users/matt/projects/collab/client/src/App.js",[],"/Users/matt/projects/collab/client/src/reportWebVitals.js",[],"/Users/matt/projects/collab/client/src/context/userContext.js",[],"/Users/matt/projects/collab/client/src/context/messageContext.js",[],"/Users/matt/projects/collab/client/src/components/Login.js",[],"/Users/matt/projects/collab/client/src/components/Register.js",[],"/Users/matt/projects/collab/client/src/components/NavMenu.js",[],"/Users/matt/projects/collab/client/src/components/Messages.js",["72","73"],"import React, { useContext, useEffect, useRef } from 'react';\nimport useMessage from '../hooks/useMessage';\nimport { library, dom } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { far } from '@fortawesome/free-regular-svg-icons';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\nimport { MessageContext } from '../context/messageContext';\nimport styled from 'styled-components';\nimport { v4 as uuidv4 } from 'uuid';\nimport { UserContext } from '../context/userContext';\nimport socket from '../socket';\nimport SideMenu from './SideMenu';\n\nconst MessageStyles = styled.div`\n  .chat-container {\n    position: relative;\n  }\n\n  .chat-box {\n    padding: 10px;\n    margin: 0px 15px 0px 15px;\n\n    @media screen and (min-width: 600px) {\n      margin: 0px 150px 0px 150px;\n    }\n  }\n\n  .incoming-message {\n    height: auto;\n    max-width: 250px;\n    border: 0.5px solid rgb(194, 194, 194);\n    padding: 0px 10px 0px 10px;\n    background-color: rgb(220, 239, 253);\n    border-radius: 10px;\n    box-shadow: 0 0 10px #75e4b9;\n  }\n\n  .incoming-flex {\n    display: flex;\n    flex-direction: column wrap;\n    align-items: flex-start;\n    font-size: medium;\n    @media screen and (min-width: 600px) {\n      font-size: large;\n    }\n    margin-bottom: 20px;\n  }\n\n  .outgoing-message {\n    height: auto;\n    max-width: 250px;\n    border: 0.5px solid rgb(194, 194, 194);\n    padding: 0px 10px 0px 10px;\n    background-color: rgb(135, 243, 202);\n    border-radius: 10px;\n    box-shadow: 0 0 10px #b8d8f0;\n  }\n\n  .message {\n    word-wrap: break-word;\n  }\n\n  .outgoing-flex {\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: flex-end;\n    @media screen and (min-width: 600px) {\n      font-size: large;\n    }\n  }\n\n  .input-area {\n    display: flex;\n    position: fixed;\n    align-items: center;\n    justify-content: center;\n    bottom: 0;\n    @media screen and (min-width: 600px) {\n      left: calc(25vw / 2);\n    }\n  }\n`;\n\nconst TextArea = styled.textarea`\n  padding: 10px;\n  margin: 5px;\n  font-size: large;\n  font-family: 'Montserrat', sans-serif;\n  border: 2px solid rgb(196, 196, 196);\n  border-radius: 5px;\n  outline: none;\n  resize: none;\n  width: 70vw;\n\n  &:focus {\n    border: 2px solid #75e4b9;\n  }\n`;\n\nconst Button = styled.button`\n  background-color: #75e4b9;\n  border-radius: 50%;\n  cursor: pointer;\n  float: right;\n  padding: 10px;\n  outline: none;\n  @media screen and (min-width: 600px) {\n    padding: 15px;\n  }\n`;\n\nlibrary.add(fas, far, fab);\n\ndom.i2svg();\n\nfunction Messages() {\n  const [msgState, setMsgState] = useContext(MessageContext);\n  const [state, setState] = useContext(UserContext);\n  const { sendMessage, checkAuth, webSocket } = useMessage();\n\n  const chat = useRef(null);\n\n  useEffect(() => {\n    chat.current.scrollTop =\n      chat.current.scrollHeight - chat.current.clientHeight;\n  });\n\n  useEffect(() => {\n    checkAuth();\n    //Open websocket connection\n    const { username } = state;\n    socket.connect();\n    socket.auth = { username };\n    webSocket();\n  }, []);\n\n  // useEffect(() => {\n  //   return () => close();\n  // }, []);\n\n  const handleSend = () => {\n    sendMessage();\n  };\n\n  const handleMessages = () => {\n    return msgState.messages.map((msg) => {\n      if (msg.incoming) {\n        return (\n          <div key={uuidv4()}>\n            <div className=\"incoming-flex\">\n              {msgState.user && (\n                <div>\n                  <p>From {msgState.user}</p>\n                  <p>{msg.timestamp}</p>\n                </div>\n              )}\n            </div>\n            <div className=\"incoming-flex\">\n              <div className=\"incoming-message\">\n                <p className=\"message\">{msg.text}</p>\n              </div>\n            </div>\n          </div>\n        );\n      }\n      return (\n        <div className=\"outgoing-flex\" key={uuidv4()}>\n          <p>{msg.timestamp}</p>\n          <div className=\"outgoing-message\">\n            <p className=\"message\">{msg.text}</p>\n          </div>\n        </div>\n      );\n    });\n  };\n\n  const handleChange = (e) => {\n    setMsgState((msgState) => ({ ...msgState, text: e.target.value }));\n  };\n\n  return (\n    <div>\n      <SideMenu />\n      <MessageStyles className=\"chat-container\">\n        <MessageStyles className=\"chat-box\" ref={chat}>\n          {handleMessages()}\n        </MessageStyles>\n\n        <MessageStyles className=\"input-area\">\n          <TextArea value={msgState.text} onChange={handleChange}></TextArea>\n          <Button className=\"send-button\" onClick={handleSend}>\n            <i className=\"fas fa-paper-plane fa-2x\"></i>\n          </Button>\n        </MessageStyles>\n      </MessageStyles>\n    </div>\n  );\n}\n\nexport default Messages;\n","/Users/matt/projects/collab/client/src/hooks/useLogin.js",[],"/Users/matt/projects/collab/client/src/components/Dashboard.js",[],"/Users/matt/projects/collab/client/src/components/Input.js",[],"/Users/matt/projects/collab/client/src/hooks/useRegister.js",[],"/Users/matt/projects/collab/client/src/components/SideMenu.js",["74","75"],"import React, { useContext } from 'react';\nimport { UserContext } from '../context/userContext';\nimport styled from 'styled-components';\nimport '../styles/Menu.css';\n\nconst Sidebar = styled.div`\n  margin: 0;\n  padding: 0;\n  width: 200px;\n  background-color: rgb(235, 245, 252);\n  position: absolute;\n  height: 90%;\n  overflow: auto;\n  border-radius: 10px;\n  box-shadow: 0 0 10px#75e4b9;\n`;\n\nconst StyledLink = styled.li`\n  display: block;\n  color: black;\n  font-size: small;\n  @media screen and (min-width: 600px) {\n    font-size: medium;\n    padding: 15px 15px;\n  }\n  text-align: center;\n  padding: 10px 10px;\n  text-decoration: none;\n  &:hover {\n    background-color: #75e4b9;\n    border-radius: 10px;\n  }\n`;\n\n//   .sidebar a {\n//     display: block;\n//     color: black;\n//     padding: 16px;\n//     text-decoration: none;\n//   }\n\n//   .sidebar a.active {\n//     background-color: #75e4b9;\n//     color: white;\n//   }\n\n//   .sidebar a:hover:not(.active) {\n//     background-color: rgb(170, 170, 170);\n//     color: white;\n//   }\n\n//   div.content {\n//     margin-left: 200px;\n//     padding: 1px 16px;\n//     height: 1000px;\n//   }\n\n//   @media screen and (max-width: 700px) {\n//     .sidebar {\n//       width: 100%;\n//       height: auto;\n//       position: relative;\n//     }\n//     .sidebar a {\n//       float: left;\n//     }\n//     div.content {\n//       margin-left: 0;\n//     }\n//   }\n// `;\n\nfunction SideMenu() {\n  const [state] = useContext(UserContext);\n\n  const activeUsers = () => {\n    const users = [...state.users];\n    return users.map((user) => <p>{user.username}</p>);\n  };\n\n  return (\n    <div className=\"sidebar\">\n      <p>test</p>\n      <div>{activeUsers()}</div>\n    </div>\n  );\n}\n\nexport default SideMenu;\n","/Users/matt/projects/collab/client/src/hooks/useMessage.js",["76","77"],"import { useContext } from 'react';\nimport { MessageContext } from '../context/messageContext';\nimport { UserContext } from '../context/userContext';\nimport socket from '../socket';\nimport axios from 'axios';\n\nconst UseMessage = () => {\n  const [msgState, setMsgState] = useContext(MessageContext);\n  const [state, setState] = useContext(UserContext);\n\n  function recieveMessage(event) {\n    let msg = JSON.parse(event);\n    setMsgState({\n      ...msgState,\n      user: msg.username,\n      messages: msgState.messages.concat({\n        text: msg.text,\n        incoming: true,\n        timestamp: new Date().toLocaleString(),\n      }),\n    });\n  }\n\n  function sendMessage() {\n    const message = {\n      username: state.username,\n      text: msgState.text,\n    };\n\n    handleSend();\n  }\n\n  function formatDate(date) {\n    const calcDaysPassed = (date1, date2) =>\n      Math.round(Math.abs((date2 - date1) / (1000 * 60 * 60 * 24)));\n\n    const daysPassed = calcDaysPassed(new Date(), date);\n\n    const hour = date.getHours();\n    const minutes = `${date.getMinutes()}`.padEnd(2, 0);\n    const amOrPm = `${hour < 12 ? 'AM' : 'PM'}`;\n\n    if (daysPassed === 0) return `Today at ${hour}:${minutes} ${amOrPm}`;\n    if (daysPassed === 1) return `Yesterday at ${hour}:${minutes} ${amOrPm}`;\n    if (daysPassed >= 7) return `${daysPassed} days ago`;\n    else {\n      return new Intl.DateTimeFormat(navigator.locale).format();\n    }\n  }\n\n  function handleSend() {\n    const date = new Date();\n\n    setMsgState({\n      ...msgState,\n      text: '',\n      messages: msgState.messages.concat({\n        text: msgState.text,\n        incoming: false,\n        timestamp: formatDate(date),\n      }),\n    });\n  }\n\n  async function checkAuth() {\n    try {\n      await axios.post('/api/messages');\n    } catch (err) {\n      setState({\n        ...state,\n        authenticated: false,\n        status: err.response?.data.msg,\n      });\n    }\n  }\n\n  function webSocket() {\n    //Get username from userContext and assign it to\n    //socket.auth and connect socket to server\n    const { username } = state;\n    socket.auth = { username };\n    socket.connect();\n\n    //Display error messages to console\n    //Will implement error messages in UI soon\n    socket.on('connect_error', (err) => {\n      if (err.message === 'invalid username') {\n        console.log(err.message);\n      }\n    });\n\n    //Build user object\n    socket.on('users', (users) => {\n      users.forEach((user) => {\n        user.self = user.userID === socket.id;\n      });\n      //put the current user first and then sort by username\n      const userList = users.sort((a, b) => {\n        if (a.self) return -1;\n        if (b.self) return 1;\n        if (a.username < b.username) return -1;\n        return a.username > b.username ? 1 : 0;\n      });\n      setState({ ...state, users: new Set(userList) });\n    });\n    //When user connects add username to state.users\n    socket.on('user connected', (user) => {\n      state.users.add(user);\n    });\n  }\n\n  return { sendMessage, checkAuth, webSocket };\n};\n\nexport default UseMessage;\n","/Users/matt/projects/collab/client/src/socket.js",[],{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":118,"column":17,"nodeType":"84","messageId":"85","endLine":118,"endColumn":25},{"ruleId":"86","severity":1,"message":"87","line":135,"column":6,"nodeType":"88","endLine":135,"endColumn":8,"suggestions":"89"},{"ruleId":"82","severity":1,"message":"90","line":6,"column":7,"nodeType":"84","messageId":"85","endLine":6,"endColumn":14},{"ruleId":"82","severity":1,"message":"91","line":18,"column":7,"nodeType":"84","messageId":"85","endLine":18,"endColumn":17},{"ruleId":"82","severity":1,"message":"92","line":11,"column":12,"nodeType":"84","messageId":"85","endLine":11,"endColumn":26},{"ruleId":"82","severity":1,"message":"93","line":25,"column":11,"nodeType":"84","messageId":"85","endLine":25,"endColumn":18},"no-native-reassign",["94"],"no-negated-in-lhs",["95"],"no-unused-vars","'setState' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'checkAuth', 'state', and 'webSocket'. Either include them or remove the dependency array.","ArrayExpression",["96"],"'Sidebar' is assigned a value but never used.","'StyledLink' is assigned a value but never used.","'recieveMessage' is defined but never used.","'message' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"97","fix":"98"},"Update the dependencies array to be: [checkAuth, state, webSocket]",{"range":"99","text":"100"},[3060,3062],"[checkAuth, state, webSocket]"]