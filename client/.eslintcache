[{"/Users/matt/projects/collab/client/src/index.js":"1","/Users/matt/projects/collab/client/src/App.js":"2","/Users/matt/projects/collab/client/src/reportWebVitals.js":"3","/Users/matt/projects/collab/client/src/context/userContext.js":"4","/Users/matt/projects/collab/client/src/context/messageContext.js":"5","/Users/matt/projects/collab/client/src/hooks/useLogin.js":"6","/Users/matt/projects/collab/client/src/hooks/useRegister.js":"7","/Users/matt/projects/collab/client/src/hooks/useMessage.js":"8","/Users/matt/projects/collab/client/src/socket.js":"9","/Users/matt/projects/collab/client/src/components/Chat/Chat.js":"10","/Users/matt/projects/collab/client/src/components/Dashboard/Dashboard.js":"11","/Users/matt/projects/collab/client/src/components/Input/Input.js":"12","/Users/matt/projects/collab/client/src/components/SideMenu/SideMenu.js":"13","/Users/matt/projects/collab/client/src/components/NavMenu/NavMenu.js":"14","/Users/matt/projects/collab/client/src/components/Dialogue/Register.js":"15","/Users/matt/projects/collab/client/src/components/Dialogue/Login.js":"16"},{"size":778,"mtime":1613167639267,"results":"17","hashOfConfig":"18"},{"size":2124,"mtime":1618417945668,"results":"19","hashOfConfig":"18"},{"size":362,"mtime":1608671060942,"results":"20","hashOfConfig":"18"},{"size":595,"mtime":1615821969965,"results":"21","hashOfConfig":"18"},{"size":417,"mtime":1615663741641,"results":"22","hashOfConfig":"18"},{"size":1325,"mtime":1617471465157,"results":"23","hashOfConfig":"18"},{"size":1501,"mtime":1617554442703,"results":"24","hashOfConfig":"18"},{"size":3075,"mtime":1617796514355,"results":"25","hashOfConfig":"18"},{"size":202,"mtime":1615659691175,"results":"26","hashOfConfig":"18"},{"size":3355,"mtime":1617989118502,"results":"27","hashOfConfig":"18"},{"size":662,"mtime":1617988876285,"results":"28","hashOfConfig":"18"},{"size":1625,"mtime":1617989103518,"results":"29","hashOfConfig":"18"},{"size":533,"mtime":1617989125965,"results":"30","hashOfConfig":"18"},{"size":1288,"mtime":1617989194451,"results":"31","hashOfConfig":"18"},{"size":2964,"mtime":1617989084182,"results":"32","hashOfConfig":"18"},{"size":2229,"mtime":1617989094111,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"92kho2",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"36"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/matt/projects/collab/client/src/index.js",[],["68","69"],"/Users/matt/projects/collab/client/src/App.js",[],"/Users/matt/projects/collab/client/src/reportWebVitals.js",[],"/Users/matt/projects/collab/client/src/context/userContext.js",[],"/Users/matt/projects/collab/client/src/context/messageContext.js",[],"/Users/matt/projects/collab/client/src/hooks/useLogin.js",[],"/Users/matt/projects/collab/client/src/hooks/useRegister.js",[],"/Users/matt/projects/collab/client/src/hooks/useMessage.js",["70","71"],"import { useContext } from 'react';\nimport { MessageContext } from '../context/messageContext';\nimport { UserContext } from '../context/userContext';\nimport socket from '../socket';\nimport axios from 'axios';\n\nconst UseMessage = () => {\n  const [msgState, setMsgState] = useContext(MessageContext);\n  const [state, setState] = useContext(UserContext);\n\n  function recieveMessage(event) {\n    let msg = JSON.parse(event);\n    setMsgState({\n      ...msgState,\n      user: msg.username,\n      messages: msgState.messages.concat({\n        text: msg.text,\n        incoming: true,\n        timestamp: new Date().toLocaleString(),\n      }),\n    });\n  }\n\n  function sendMessage() {\n    const message = {\n      username: state.username,\n      text: msgState.text,\n    };\n\n    handleSend();\n  }\n\n  function formatDate(date) {\n    const calcDaysPassed = (date1, date2) =>\n      Math.round(Math.abs((date2 - date1) / (1000 * 60 * 60 * 24)));\n\n    const daysPassed = calcDaysPassed(new Date(), date);\n\n    const hour = date.getHours();\n    const minutes = `${date.getMinutes()}`.padEnd(2, 0);\n    const amOrPm = `${hour < 12 ? 'AM' : 'PM'}`;\n\n    if (daysPassed === 0) return `Today at ${hour}:${minutes} ${amOrPm}`;\n    if (daysPassed === 1) return `Yesterday at ${hour}:${minutes} ${amOrPm}`;\n    if (daysPassed >= 7) return `${daysPassed} days ago`;\n    else {\n      return new Intl.DateTimeFormat(navigator.locale).format();\n    }\n  }\n\n  function handleSend() {\n    const date = new Date();\n\n    setMsgState({\n      ...msgState,\n      text: '',\n      messages: msgState.messages.concat({\n        text: msgState.text,\n        incoming: false,\n        timestamp: formatDate(date),\n      }),\n    });\n  }\n\n  async function checkAuth() {\n    try {\n      await axios.post('/api/messages');\n    } catch (err) {\n      setState({\n        ...state,\n        authenticated: false,\n        status: err.response?.data.msg,\n      });\n    }\n  }\n\n  function webSocket() {\n    //Get username from userContext and assign it to\n    //socket.auth and connect socket to server\n    const { username } = state;\n    socket.auth = { username };\n    socket.connect();\n\n    //Display error messages to console\n    //Will implement error messages in UI soon\n    socket.on('connect_error', (err) => {\n      if (err.message === 'invalid username') {\n        console.log(err.message, username);\n      }\n    });\n\n    //Build user object\n    socket.on('users', (users) => {\n      users.forEach((user) => {\n        user.self = user.userID === socket.id;\n      });\n      //put the current user first and then sort by username\n      const userList = users.sort((a, b) => {\n        if (a.self) return -1;\n        if (b.self) return 1;\n        if (a.username < b.username) return -1;\n        return a.username > b.username ? 1 : 0;\n      });\n      setState({ ...state, users: new Set(userList) });\n    });\n    //When user connects add username to state.users\n    socket.on('user connected', (user) => {\n      state.users.add(user);\n    });\n  }\n\n  return { sendMessage, checkAuth, webSocket };\n};\n\nexport default UseMessage;\n","/Users/matt/projects/collab/client/src/socket.js",[],"/Users/matt/projects/collab/client/src/components/Chat/Chat.js",["72","73","74","75"],"/Users/matt/projects/collab/client/src/components/Dashboard/Dashboard.js",[],"/Users/matt/projects/collab/client/src/components/Input/Input.js",[],"/Users/matt/projects/collab/client/src/components/SideMenu/SideMenu.js",[],"/Users/matt/projects/collab/client/src/components/NavMenu/NavMenu.js",[],"/Users/matt/projects/collab/client/src/components/Dialogue/Register.js",[],"/Users/matt/projects/collab/client/src/components/Dialogue/Login.js",[],{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","severity":1,"message":"81","line":11,"column":12,"nodeType":"82","messageId":"83","endLine":11,"endColumn":26},{"ruleId":"80","severity":1,"message":"84","line":25,"column":11,"nodeType":"82","messageId":"83","endLine":25,"endColumn":18},{"ruleId":"80","severity":1,"message":"85","line":20,"column":17,"nodeType":"82","messageId":"83","endLine":20,"endColumn":25},{"ruleId":"86","severity":1,"message":"87","line":37,"column":6,"nodeType":"88","endLine":37,"endColumn":8,"suggestions":"89"},{"ruleId":"90","severity":1,"message":"91","line":44,"column":40,"nodeType":"92","messageId":"93","endLine":44,"endColumn":42},{"ruleId":"94","severity":1,"message":"95","line":108,"column":13,"nodeType":"96","endLine":108,"endColumn":57},"no-native-reassign",["97"],"no-negated-in-lhs",["98"],"no-unused-vars","'recieveMessage' is defined but never used.","Identifier","unusedVar","'message' is assigned a value but never used.","'setState' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'checkAuth', 'state', and 'webSocket'. Either include them or remove the dependency array.","ArrayExpression",["99"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"100","fix":"101"},"Update the dependencies array to be: [checkAuth, state, webSocket]",{"range":"102","text":"103"},[1192,1194],"[checkAuth, state, webSocket]"]